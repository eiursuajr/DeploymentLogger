
// Generated by MyGeneration Version # (1.1.5.1)

using System;
using DL_DAL.Client;
using System.Data;

namespace DL_WEB.DAL.Client
{
	public class ProjectSection : _ProjectSection
	{
		public ProjectSection()
		{
		
		}

		public DataView LoadProjectSectionByPrimaryKey(int projectSectionID)
		{
			if (projectSectionID > 0)
				base.LoadByPrimaryKey(projectSectionID);
			else
			{
				base.AddNew();
				base.ProjectSectionID = base.ProjectID = 0;
				base.Name = base.Description = string.Empty;
			}
			return base.DefaultView;
		}

		public DataView LoadAllProjectSectionByProjectID(int projectID)
		{
			base.Where.ProjectID.Value = projectID;
			base.Where.ProjectID.Operator = MyGeneration.dOOdads.WhereParameter.Operand.Equal;
			base.Query.Load();
			return base.DefaultView;
		}

		public void Delete(int projectSectionID)
		{
			base.LoadByPrimaryKey(projectSectionID);
			base.ProjectSectionID = projectSectionID;
			base.MarkAsDeleted();
			base.Save();
		}

		public int Update(int projectSectionID, int projectID, string name, string description)
		{
			this.LoadProjectSectionByPrimaryKey(projectSectionID);

			base.ProjectSectionID = projectSectionID;
			base.ProjectID = projectID;
            if (name != null)
			    base.Name = name;
            if (description != null)
			    base.Description = description;

			base.Save();

			return base.ProjectSectionID;
		}
	}
}
